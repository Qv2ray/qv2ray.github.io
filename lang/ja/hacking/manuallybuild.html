<!DOCTYPE html>
<html lang="ja-JP">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Qv2ray を手動でビルド | Qv2ray</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/logo.svg">
    <meta name="description" content="Qv2ray is a cross platform GUI For V2Ray">
    <meta property="article:modified_time" content="2021-03-08T17:53:25.000Z">
    <meta property="og:site_name" content="纵使千山多万壑，犹有青鸾踏云间">
    <meta property="og:title" content="Qv2ray Official Site">
    <meta property="og:description" content="跨平台 V2Ray GUI">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://qv2ray.net/">
    <meta property="og:image" content="https://avatars.githubusercontent.com/u/60087221?s=400&v=4">
    <meta name="twitter:title" content="Qv2ray Official Site">
    <meta name="twitter:description" content="跨平台 V2Ray GUI">
    <meta name="twitter:url" content="https://qv2ray.net/">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:image" content="https://avatars.githubusercontent.com/u/60087221?s=400&v=4">
    
    <link rel="preload" href="/assets/css/0.styles.e38e6b0d.css" as="style"><link rel="preload" href="/assets/js/app.8e916f50.js" as="script"><link rel="preload" href="/assets/js/3.d2db5c7e.js" as="script"><link rel="preload" href="/assets/js/36.a2a53555.js" as="script"><link rel="preload" href="/assets/js/8.021a6724.js" as="script"><link rel="prefetch" href="/assets/js/10.7502a0eb.js"><link rel="prefetch" href="/assets/js/11.ff62f929.js"><link rel="prefetch" href="/assets/js/12.be44badc.js"><link rel="prefetch" href="/assets/js/13.44c5fa0d.js"><link rel="prefetch" href="/assets/js/14.072bb323.js"><link rel="prefetch" href="/assets/js/15.ed4b0c1b.js"><link rel="prefetch" href="/assets/js/16.0e86e0c7.js"><link rel="prefetch" href="/assets/js/17.52f469e7.js"><link rel="prefetch" href="/assets/js/18.a1bb2adb.js"><link rel="prefetch" href="/assets/js/19.ad2259e4.js"><link rel="prefetch" href="/assets/js/20.b8bf0f49.js"><link rel="prefetch" href="/assets/js/21.d6dd6bec.js"><link rel="prefetch" href="/assets/js/22.e4698fb5.js"><link rel="prefetch" href="/assets/js/23.27c14d6a.js"><link rel="prefetch" href="/assets/js/24.4e4a41d8.js"><link rel="prefetch" href="/assets/js/25.ddb7f54e.js"><link rel="prefetch" href="/assets/js/26.a8ff5f16.js"><link rel="prefetch" href="/assets/js/27.c5da4004.js"><link rel="prefetch" href="/assets/js/28.53e05a66.js"><link rel="prefetch" href="/assets/js/29.50bfb313.js"><link rel="prefetch" href="/assets/js/30.96c05b33.js"><link rel="prefetch" href="/assets/js/31.173753fb.js"><link rel="prefetch" href="/assets/js/32.ad2f89c0.js"><link rel="prefetch" href="/assets/js/33.45d9a864.js"><link rel="prefetch" href="/assets/js/34.32403fa9.js"><link rel="prefetch" href="/assets/js/35.c2364587.js"><link rel="prefetch" href="/assets/js/37.08162ea0.js"><link rel="prefetch" href="/assets/js/38.e28514e3.js"><link rel="prefetch" href="/assets/js/39.8600313b.js"><link rel="prefetch" href="/assets/js/4.4463262a.js"><link rel="prefetch" href="/assets/js/40.702b3b78.js"><link rel="prefetch" href="/assets/js/41.beedcb9b.js"><link rel="prefetch" href="/assets/js/42.7d89e981.js"><link rel="prefetch" href="/assets/js/43.a8b58e85.js"><link rel="prefetch" href="/assets/js/44.89694054.js"><link rel="prefetch" href="/assets/js/45.c7b60fe8.js"><link rel="prefetch" href="/assets/js/46.9801548c.js"><link rel="prefetch" href="/assets/js/47.8bb1e3ba.js"><link rel="prefetch" href="/assets/js/48.0f4b2bb8.js"><link rel="prefetch" href="/assets/js/49.df51d7c9.js"><link rel="prefetch" href="/assets/js/5.defd2c81.js"><link rel="prefetch" href="/assets/js/50.04501330.js"><link rel="prefetch" href="/assets/js/51.2d8f84ab.js"><link rel="prefetch" href="/assets/js/52.403ed3a3.js"><link rel="prefetch" href="/assets/js/53.34c00efa.js"><link rel="prefetch" href="/assets/js/54.7cd3b518.js"><link rel="prefetch" href="/assets/js/55.a4499646.js"><link rel="prefetch" href="/assets/js/56.b3821caf.js"><link rel="prefetch" href="/assets/js/57.b94e901b.js"><link rel="prefetch" href="/assets/js/58.b9ba532d.js"><link rel="prefetch" href="/assets/js/59.6a672d94.js"><link rel="prefetch" href="/assets/js/6.61e929d9.js"><link rel="prefetch" href="/assets/js/60.1b5673f0.js"><link rel="prefetch" href="/assets/js/61.4ef7e164.js"><link rel="prefetch" href="/assets/js/62.7cc6ce7c.js"><link rel="prefetch" href="/assets/js/63.1e4f04e9.js"><link rel="prefetch" href="/assets/js/64.ea3d4a52.js"><link rel="prefetch" href="/assets/js/65.88c13d71.js"><link rel="prefetch" href="/assets/js/66.14145411.js"><link rel="prefetch" href="/assets/js/67.5c9a5bb7.js"><link rel="prefetch" href="/assets/js/68.c099f67a.js"><link rel="prefetch" href="/assets/js/69.8a40d0a7.js"><link rel="prefetch" href="/assets/js/7.25cfeb6b.js"><link rel="prefetch" href="/assets/js/70.483afd5f.js"><link rel="prefetch" href="/assets/js/71.a4e35fab.js"><link rel="prefetch" href="/assets/js/72.ac049235.js"><link rel="prefetch" href="/assets/js/73.be785bbd.js"><link rel="prefetch" href="/assets/js/9.f69478b7.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.e78d7987.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e38e6b0d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/lang/ja/" class="home-link router-link-active"><img src="/logo.svg" alt="Qv2ray" class="logo"> <span class="site-name can-hide">Qv2ray</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/lang/ja/getting-started.html" class="nav-link">
  Getting Started
</a></div><div class="nav-item"><a href="/lang/ja/manual.html" class="nav-link">
  Manual
</a></div><div class="nav-item"><a href="/lang/ja/hacking.html" class="nav-link">
  Hacking
</a></div><div class="nav-item"><a href="/lang/ja/plugins.html" class="nav-link">
  Plugins
</a></div><div class="nav-item"><a href="/lang/ja/faq.html" class="nav-link">
  FAQ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select Language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select Language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/hacking/manuallybuild.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/lang/ja/hacking/manuallybuild.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Japanese
</a></li><li class="dropdown-item"><!----> <a href="/lang/zh/hacking/manuallybuild.html" class="nav-link">
  中文
</a></li></ul></div></div> <div class="nav-item"><a role="button" aria-label="Switch to light mode" class="nav-link"><span>Switch theme</span></a></div> <a href="https://github.com/Qv2ray/Qv2ray" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/lang/ja/getting-started.html" class="nav-link">
  Getting Started
</a></div><div class="nav-item"><a href="/lang/ja/manual.html" class="nav-link">
  Manual
</a></div><div class="nav-item"><a href="/lang/ja/hacking.html" class="nav-link">
  Hacking
</a></div><div class="nav-item"><a href="/lang/ja/plugins.html" class="nav-link">
  Plugins
</a></div><div class="nav-item"><a href="/lang/ja/faq.html" class="nav-link">
  FAQ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select Language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select Language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/hacking/manuallybuild.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/lang/ja/hacking/manuallybuild.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Japanese
</a></li><li class="dropdown-item"><!----> <a href="/lang/zh/hacking/manuallybuild.html" class="nav-link">
  中文
</a></li></ul></div></div> <div class="nav-item"><a role="button" aria-label="Switch to light mode" class="nav-link"><span>Switch theme</span></a></div> <a href="https://github.com/Qv2ray/Qv2ray" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/lang/ja/hacking/" aria-current="page" class="sidebar-link">Hacking</a></li><li><a href="/lang/ja/hacking/manuallybuild.html" aria-current="page" class="active sidebar-link">Qv2ray を手動でビルド</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/lang/ja/hacking/manuallybuild.html#_0-要件と依存関係" class="sidebar-link">0. 要件と依存関係</a></li><li class="sidebar-sub-header"><a href="/lang/ja/hacking/manuallybuild.html#_1-ソースツリーの取得" class="sidebar-link">1. ソースツリーの取得</a></li><li class="sidebar-sub-header"><a href="/lang/ja/hacking/manuallybuild.html#_2-コンパイルディレクトリに入る" class="sidebar-link">2. コンパイルディレクトリに入る</a></li><li class="sidebar-sub-header"><a href="/lang/ja/hacking/manuallybuild.html#_3-コンパイルスクリプトの生成" class="sidebar-link">3. コンパイルスクリプトの生成</a></li><li class="sidebar-sub-header"><a href="/lang/ja/hacking/manuallybuild.html#_4-コンパイルを開始" class="sidebar-link">4. コンパイルを開始</a></li><li class="sidebar-sub-header"><a href="/lang/ja/hacking/manuallybuild.html#_5-コンパイルを完了" class="sidebar-link">5. コンパイルを完了</a></li><li class="sidebar-sub-header"><a href="/lang/ja/hacking/manuallybuild.html#_6-完了" class="sidebar-link">6. 完了</a></li></ul></li><li><a href="/lang/ja/hacking/cmake-argument.html" class="sidebar-link">CMake Argument Reference</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/lang/ja/hacking/cmake-argument.html#最小値を使用します。" class="sidebar-link">最小値を使用します。</a></li><li class="sidebar-sub-header"><a href="/lang/ja/hacking/cmake-argument.html#qv2ray" class="sidebar-link">QV2RAY</a></li><li class="sidebar-sub-header"><a href="/lang/ja/hacking/cmake-argument.html#テストをビルド" class="sidebar-link">テストをビルド</a></li><li class="sidebar-sub-header"><a href="/lang/ja/hacking/cmake-argument.html#qv2ray-default-vassets-path-と-qv2ray-default-vcore-path" class="sidebar-link">QV2RAY_DEFAULT_VASSETS_PATH と QV2RAY_DEFAULT_VCORE_PATH</a></li><li class="sidebar-sub-header"><a href="/lang/ja/hacking/cmake-argument.html#qv2ray-disable-update" class="sidebar-link">QV2RAY_DISABLE_UPDATE</a></li><li class="sidebar-sub-header"><a href="/lang/ja/hacking/cmake-argument.html#qv2ray-build-info-qv2ray-build-extra-info" class="sidebar-link">QV2RAY_BUILD_INFO / QV2RAY_BUILD_EXTRA_INFO</a></li><li class="sidebar-sub-header"><a href="/lang/ja/hacking/cmake-argument.html#qv2ray-has-themes" class="sidebar-link">QV2RAY_HAS_THEMES</a></li><li class="sidebar-sub-header"><a href="/lang/ja/hacking/cmake-argument.html#qv2ray-has-builtin" class="sidebar-link">QV2RAY_HAS_BUILTIN</a></li><li class="sidebar-sub-header"><a href="/lang/ja/hacking/cmake-argument.html#qv2ray-has-builtin-subscription" class="sidebar-link">QV2RAY_HAS_BUILTIN_SUBSCRIPTION</a></li><li class="sidebar-sub-header"><a href="/lang/ja/hacking/cmake-argument.html#qv2ray-2" class="sidebar-link">QV2RAY</a></li><li class="sidebar-sub-header"><a href="/lang/ja/hacking/cmake-argument.html#qv2ray-has-unk" class="sidebar-link">QV2RAY_HAS_&lt;unk&gt;</a></li><li class="sidebar-sub-header"><a href="/lang/ja/hacking/cmake-argument.html#qv2ray-singleapplication-provider-qv2ray-qnodeditor-provider" class="sidebar-link">QV2RAY_SINGLEAPPLICATION_PROVIDER / QV2RAY_QNODEDITOR_PROVIDER</a></li><li class="sidebar-sub-header"><a href="/lang/ja/hacking/cmake-argument.html#qv2ray-3" class="sidebar-link">QV2RAY</a></li><li class="sidebar-sub-header"><a href="/lang/ja/hacking/cmake-argument.html#qv2ray-4" class="sidebar-link">QV2RAY</a></li><li class="sidebar-sub-header"><a href="/lang/ja/hacking/cmake-argument.html#qv2ray-qml-live-update" class="sidebar-link">QV2RAY_QML_LIVE_UPDATE</a></li><li class="sidebar-sub-header"><a href="/lang/ja/hacking/cmake-argument.html#qv2ray-path" class="sidebar-link">QV2RAY_PATH</a></li><li class="sidebar-sub-header"><a href="/lang/ja/hacking/cmake-argument.html#システムlibugを使用" class="sidebar-link">システムLIBUGを使用</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-succinct-content content__default"><h1 id="qv2ray-を手動でビルド"><a href="#qv2ray-を手動でビルド" class="header-anchor">#</a> Qv2ray を手動でビルド</h1> <p>ハッカーがQv2rayを手動でコンパイルしたい場合。</p> <h2 id="_0-要件と依存関係"><a href="#_0-要件と依存関係" class="header-anchor">#</a> 0. 要件と依存関係</h2> <p>すべての要件を満たしていることを確認してください。</p> <ul><li><p><code>x64</code>デスクトッププラットフォームのみ。</p></li> <li><p><code>arm</code>, <code>arm64</code>, <code>x86</code>, <code>x86_64</code> Androidプラットフォーム用.</p></li> <li><p>Qt version<code>&gt;= 5.11</code> is required for desktop platforms, <code>&gt;= 6.0</code> required for Android</p> <ul><li>~~Qv2rayを以前またはそれ以降のQt.~に移植する場合は気にしないでください。</li> <li>その場合は、 <code>CMakeLists.txt</code> で <code>QV_QT_MAJOR_VERSION</code> と <code>QV_QT_MINOR_VERSION</code> を変更することができます。</li></ul></li> <li><p>最新バージョンのQtは常にサポートされ、推奨されています</p></li> <li><p><code>std=c++17</code> をサポートするコンパイラ:</p> <ul><li><code>gcc7</code>はうまくいくことが知られている。</li> <li>少なくともMSVCのバージョン14.2が必要です。</li></ul></li> <li><p>サードパーティ製ライブラリ: (gRPC, protobuf, curl, openssl)</p> <table><thead><tr><th>ターゲットプラットフォーム</th> <th>インストール方法</th></tr></thead> <tbody><tr><td>Linux</td> <td>対応するパッケージをインストール</td></tr> <tr><td>Windows (MSVC)</td> <td><code>vcpkg</code> を使用するか、 <a href="#a-prebuilt-binaries"><strong>のビルド済みバイナリ</strong>を使用してください</a></td></tr> <tr><td>Windows (MinGW)</td> <td><a href="#mingw-packages">の下を見る</a></td></tr> <tr><td>macOS</td> <td><code>homebrew</code>を使ってパッケージをインストールします（注意: curl がプリインストールされています）</td></tr> <tr><td>Android</td> <td>Linux ホストがサポートされています。 <a href="#a-prebuilt-binaries"><strong>事前ビルドバイナリ</strong></a> を使用してください</td></tr></tbody></table> <div class="custom-block tip"><p class="custom-block-title">Extra Git Submoule for Android [android-openssl](https://github.com/KDAB/android_openssl) は OpenSSL バイナリを提供します: use `git clone https://github.com/KDAB/android_openssl 3rdparty/android-openssl` :::</p></div></li></ul> <h3 id="a-構築済みのバイナリ"><a href="#a-構築済みのバイナリ" class="header-anchor">#</a> a 構築済みのバイナリ</h3> <ul><li><a href="https://github.com/Qv2ray/Qv2ray-deps/" target="_blank" rel="noopener noreferrer">Qv2ray-deps<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> リポジトリは、WindowsとAndroidをターゲットとするライブラリの依存関係を構築し提供する場所です。</li> <li>Android版では、 <a href="https://github.com/Qv2ray/Qv2ray-deps/blob/master/0001_vcpkg_fix_curl_android_build.patch" target="_blank" rel="noopener noreferrer">パッチを当てた<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> vcpkgを使用しています。</li></ul> <h4 id="a-1-ダウンロード-抽出スクリプト"><a href="#a-1-ダウンロード-抽出スクリプト" class="header-anchor">#</a> a.1 ダウンロード / 抽出スクリプト</h4> <p><strong>余分な依存関係: bash, jq, curl, 7zip</strong> (特に Windows ユーザ向け)</p> <p><code>./libs/setup-lib.sh</code> を用意し、ビルド済みのバイナリを簡単にインストールできるようにしました。</p> <ul><li><code>cd</code> to <code>libs</code> ディレクトリ</li> <li><code>./setup-libs &lt;PLATFORM&gt; &lt;ARCH&gt;</code> <ul><li>例: <code>./setup-libs.sh windows x64</code> または <code>./setup-libs.sh android arm</code></li> <li>可能な <code>&lt;PLATFORM&gt;</code> 値: <code>windows</code>, <code>linux</code>, <code>android</code></li> <li>possible <code>&lt;ARCH&gt;</code> values: <code>x86</code>, <code>x64</code>, <code>arm</code>, <code>arm64</code></li> <li>LinuxでAndroidにクロスコンパイルするときにProtobufジェネレータバイナリをインストールするには、 <code>&lt;ARCH&gt;</code> を <code>tools</code> に設定してください。</li></ul></li></ul> <p>スクリプトは <a href="https://github.com/Qv2ray/Qv2ray-deps/releases/tag/release" target="_blank" rel="noopener noreferrer">このリリース<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> からパッケージをダウンロードし、内容をcorrensponding <code>./libs/ARCH-PLATFORM/</code> ディレクトリに移動します。</p> <h4 id="a-2-手動でビルド済みのバイナリを取得"><a href="#a-2-手動でビルド済みのバイナリを取得" class="header-anchor">#</a> a.2 手動でビルド済みのバイナリを取得</h4> <ul><li>7zファイルをダウンロード</li> <li><code>{7Z_ROOT}/PLATFORM-ARCH/installed/ARCH-PLATFORM</code> を <code>./libs/</code> ディレクトリに展開して移動します。</li> <li><code>include</code>, <code>lib</code> または `` サブディレクトリを <code>./libs/ARCH-PLATFORM</code> で共有する必要があります。
<ul><li>例: <code>./libs/x86-android/include</code> または <code>./libs/x64-windows/include/</code> が存在します</li></ul></li></ul> <h3 id="mingwパッケージ"><a href="#mingwパッケージ" class="header-anchor">#</a> MinGWパッケージ:</h3> <p>MSYS2が提案されているパッケージ:</p> <ul><li><code>mingw-w64-x86_64-grpc</code></li> <li><code>mingw-w64-x86_64-curl</code></li> <li><code>mingw-w64-x86_64-protobuf</code></li> <li><code>mingw-w64-x86_64-protobuf-c</code></li> <li><code>mingw-w64-x86_64-pkg-config</code></li> <li><code>mingw-w64-x86_64-re2</code></li></ul> <h2 id="_1-ソースツリーの取得"><a href="#_1-ソースツリーの取得" class="header-anchor">#</a> 1. ソースツリーの取得</h2> <p>Qv2rayのソースコードを取得するには様々なアプローチがあります。 以下から入手できます:</p> <ul><li>Git:<code>https://github.com/Qv2ray/Qv2ray.git</code></li> <li>ブランチのソースコードを直接ダウンロードする (<strong>git submodule metadata がないため、これを行うことはありません。 ** )</strong>) :::tip <code>git clone</code> <code>--branch &lt;branch/tag&gt;</code> クローン作成後に特定のブランチ/タグをチェックアウトすることができます。 :::</li></ul> <div class="custom-block warning"><p class="custom-block-title">Qv2ray にはネストされたサブモジュールが含まれており、クローンするときは常に `--recursive` を使用します。 :::</p> <h2 id="_2-コンパイルディレクトリに入る"><a href="#_2-コンパイルディレクトリに入る" class="header-anchor">#</a> 2. コンパイルディレクトリに入る</h2> <p>次のステップでは、適切な <code>PATH</code>を必要とします。つまり、 <code>qmake</code> は <code>PATH</code> にあります。</p> <p>実行: <code>mkdir build; cd build;</code></p> <ul><li>単にソースツリーの汚染を防ぐために。</li></ul> <h2 id="_3-コンパイルスクリプトの生成"><a href="#_3-コンパイルスクリプトの生成" class="header-anchor">#</a> 3. コンパイルスクリプトの生成</h2> <p><strong>は</strong> <a href="cmake-argument">CMake Argument References</a> をチェックし、独自のものを追加する必要があります。</p> <p>実行: <code>cmake ..</code></p> <p><em><strong>Androidでは、 <code>qt-cmake ..</code> を使用することをお勧めします。 <code>cmake ..</code> の代わりに。</strong></em></p> <ul><li><code>CMAKE_INSTALL_PREFIX</code> は、必要なすべてのファイルを一度にパッケージ化して収集するために常に提案されています。</li> <li><code>CMAKE_BUILD_TYPE</code> は常に提案されています。 <a href="https://cmake.org/cmake/help/latest/variable/CMAKE_BUILD_TYPE.html" target="_blank" rel="noopener noreferrer">CMake Documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> を参照してください。
<ul><li><code>Debug</code> と <code>Release</code> ビルドは、Qv2ray 設定ディレクトリの名前が異なります。 開発ビルドが構成のコピーを損なうのを防ぐために</li></ul></li> <li><code>-GNinja</code> が提案されている, iff you have <code>Ninja</code> or <code>ninja-build</code> がインストールされている.</li> <li><code>ANDROID_SDK_ROOT</code> または <code>ANDROID_NDK_ROOT</code> は、Android では必須である。</li></ul> <h2 id="_4-コンパイルを開始"><a href="#_4-コンパイルを開始" class="header-anchor">#</a> 4. コンパイルを開始</h2> <p>コンパイルを開始します！</p> <p>実行: <code>cmake --build .</code></p> <ul><li><code>--parallel &lt;NUMBER&gt;</code> は十分な計算能力があり、並列コンパイルを実行したい場合は sugguest です。</li></ul> <h2 id="_5-コンパイルを完了"><a href="#_5-コンパイルを完了" class="header-anchor">#</a> 5. コンパイルを完了</h2> <p>コンパイルされたアーティファクトとリソースを宛先ディレクトリにコピーします。</p> <p>実行: <code>cmake --install .</code> または <code>sudo</code></p> <ul><li>全ての依存関係を <code>CMAKE_INSTALL_PREFIX</code> に自動的にコピーします。</li></ul> <div class="custom-block warning"><p class="custom-block-title">`macdeployqt` に `libabsl_debugging_internal` がデバッグライブラリとして認識されるバグがあります。 QPlatformPlugin を防ぎます (例: QCocoaPlugin)がデプロイされていません。 これにより、「プラットフォームプラグインが見つかりません」という実行時例外が発生します。</p> <p>代わりに <a href="https://github.com/Qv2ray/macdeployqt-patched" target="_blank" rel="noopener noreferrer">Qv2ray-patched <code>macdeployqt</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> を使用してください。 Qt5とQt6の両方をサポートする :::</p> <h2 id="_6-完了"><a href="#_6-完了" class="header-anchor">#</a> 6. 完了</h2> <p>Qv2rayをコンパイルして配備しました！</p> <p>ハッキングを開始し、Qv2rayに貢献することを歓迎!</p></div></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/Qv2ray/qv2ray.github.io/edit/source/docs/lang/ja/hacking/manuallybuild.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2021/3/8 17:53:25</span></div></footer> <div class="contributors" style="display:none;" data-v-6000aab7><span data-v-6000aab7>Contributors</span> </div> <div class="page-nav"><p class="inner"><span class="prev">
      ⟵
      <a href="/lang/ja/hacking/" class="prev router-link-active">
        Hacking
      </a></span> <span class="next"><a href="/lang/ja/hacking/cmake-argument.html">
        CMake Argument Reference
      </a>
      ⟶
    </span></p></div> </main></div><div class="global-ui"><div style="visibility:hidden;display:none;"></div><!----></div></div>
    <script src="/assets/js/app.8e916f50.js" defer></script><script src="/assets/js/3.d2db5c7e.js" defer></script><script src="/assets/js/36.a2a53555.js" defer></script><script src="/assets/js/8.021a6724.js" defer></script>
  </body>
</html>
