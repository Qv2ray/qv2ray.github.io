(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{428:function(a,t,r){"use strict";r.r(t);var e=r(16),s=Object(e.a)({},(function(){var a=this,t=a.$createElement,r=a._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[r("h1",{attrs:{id:"关于wayland的一些笔记"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#关于wayland的一些笔记"}},[a._v("#")]),a._v(" 关于Wayland的一些笔记")]),a._v(" "),r("p",[r("strong",[a._v("注意：本节仅适用于 GNU/Linux 系统")]),a._v("。")]),a._v(" "),r("h2",{attrs:{id:"运行"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#运行"}},[a._v("#")]),a._v(" 运行")]),a._v(" "),r("p",[a._v("Qv2ray 是一个本地的 Qt5/C++ 程序，它完全支持Wayland 显示协议。 然而，要在 Wayland 协议下运行 Qv2ray ，您需要一个 Wayland 会议(例如Gnome 会议、KDE Wayland 会议、Sway 等)。 ，您也需要安装 Wayland 支持 Qt5 (通常是包名 "),r("code",[a._v("qt5-wayland")]),a._v(" or "),r("code",[a._v("(qtwayland5")]),a._v(")。")]),a._v(" "),r("p",[a._v("如果一切都已就绪，您现在可以尝试使用 Wayland 显示协议运行 Qv2ray")]),a._v(" "),r("h3",{attrs:{id:"gnome-环境"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#gnome-环境"}},[a._v("#")]),a._v(" Gnome 环境")]),a._v(" "),r("p",[a._v("Gnome环境中的Qt5程序默认使用 Xorg 协议 (Xorg) Wayland下的后退模式在Xwayland运行)。 因此，若要在 Wayland 显示协议下运行 Qv2ray ，您需要运行以下命令。")]),a._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[r("span",{pre:!0,attrs:{class:"token function"}},[a._v("env")]),a._v(" "),r("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("QT_QPA_PLATFORM")]),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("wayland qv2ray\n")])])]),r("p",[a._v("它的运作方式如下：")]),a._v(" "),r("p",[r("a",{attrs:{href:"https://imgchr.com/i/BIuwb4",target:"_blank",rel:"noopener noreferrer"}},[r("img",{attrs:{src:"https://s1.ax1x.com/2020/11/07/BIuwb4.png",alt:"Gnome 会话中Wayland上的 Qv2ray"}}),r("OutboundLink")],1)]),a._v(" "),r("p",[a._v("您可以将 "),r("code",[a._v("QT_QPA_PLATFORM=wayland")]),a._v(" 添加到 Qv2ray 的桌面文件，以便Qv2ray 可以在启动时使用Wayland 显示协议。")]),a._v(" "),r("h3",{attrs:{id:"kde-plasma-wayland-会话"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#kde-plasma-wayland-会话"}},[a._v("#")]),a._v(" KDE Plasma Wayland 会话")]),a._v(" "),r("p",[a._v("从理论上讲，它默认了Wayland显示协议，但这还没有被验证。 指定Qv2ray 以与上面相同的方式遵循Wayland显示协议。")]),a._v(" "),r("h3",{attrs:{id:"外边框"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#外边框"}},[a._v("#")]),a._v(" 外边框")]),a._v(" "),r("p",[a._v("欢迎那些在使用这一工具方面有经验的国家所作的贡献。 指定要遵循Wayland显示协议的 Qv2ray 与上面相同。")]),a._v(" "),r("h2",{attrs:{id:"故障排除"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#故障排除"}},[a._v("#")]),a._v(" 故障排除")]),a._v(" "),r("h3",{attrs:{id:"无法在wayland上运行"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#无法在wayland上运行"}},[a._v("#")]),a._v(" 无法在Wayland上运行")]),a._v(" "),r("p",[a._v("您可能正在使用 Xorg-based 桌面会话，或者您没有安装 Qt5 Wayland 组件。 或者，您已经静态地编译了 Qv2ray，但没有包含了 Qt5 的 Wayland 组件。")]),a._v(" "),r("h3",{attrs:{id:"在wayland显示协议下运行是否加速了爬行"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#在wayland显示协议下运行是否加速了爬行"}},[a._v("#")]),a._v(" 在Wayland显示协议下运行是否加速了爬行？")]),a._v(" "),r("p",[a._v("不，谢谢。")]),a._v(" "),r("h3",{attrs:{id:"kde-wayland会议下的问题"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#kde-wayland会议下的问题"}},[a._v("#")]),a._v(" KDE Wayland会议下的问题")]),a._v(" "),r("p",[a._v("在 KDE Wayland 会话下，如果您注销并重新登录，Qv2ray 将不会退出， 不会显示通知托盘图标，将使用大量的 CPU 。")]),a._v(" "),r("p",[r("strong",[a._v("这个解决方案是(使用三个选项之一)：")]),a._v(" 1Ministers, 使用 Gnome Wayland 会话 2Ministers, Use KDE Plasma or other desktop's Xorg session3. 杀死你自己的 Qv2ray 进程，然后重新打开它。")]),a._v(" "),r("blockquote",[r("p",[a._v("相关问题： "),r("a",{attrs:{href:"https://github.com/Qv2ray/Qv2ray/issues/830",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://github.com/Qv2ray/Qv2ray/issues/830"),r("OutboundLink")],1)])]),a._v(" "),r("p",[a._v("翻译为 www.deepL.com/translator(免费版本)")]),a._v(" "),r("h3",{attrs:{id:"gnome-下没有托盘图标"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#gnome-下没有托盘图标"}},[a._v("#")]),a._v(" Gnome 下没有托盘图标")]),a._v(" "),r("p",[a._v("Gnome 桌面不支持自然的托盘图标。 Ubuntu 制作了一个 "),r("a",{attrs:{href:"https://extensions.gnome.org/extension/1301/ubuntu-appindicators/",target:"_blank",rel:"noopener noreferrer"}},[a._v("扩展"),r("OutboundLink")],1),a._v(" 来支持基于 DBus 通信的 Gnome 托盘扩展。 到目前为止测试的结果是，扩展将显示在Arch Linux下的Wayland运行的 Qv2ray 托盘。 但可能无法在自定义的 Ubuntu Wayland 会话下显示它们。 这是一个上游问题，本项目无法解决。")]),a._v(" "),r("h3",{attrs:{id:"应用程序窗口在哪里"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#应用程序窗口在哪里"}},[a._v("#")]),a._v(" 应用程序窗口在哪里？")]),a._v(" "),r("p",[a._v("如上所述，GNOME 不支持托盘图标，Wayland的参考合成器 "),r("code",[a._v("Weston")]),a._v("。 在当前版本下，如果启用 "),r("strong",[r("em",[a._v("自动连接")])]),a._v(" 后，应用程序主窗口将被隐藏。 见 "),r("a",{attrs:{href:"https://github.com/Qv2ray/Qv2ray/issues/1080",target:"_blank",rel:"noopener noreferrer"}},[a._v("#1080"),r("OutboundLink")],1),a._v(" "),r("a",{attrs:{href:"https://github.com/Qv2ray/Qv2ray/issues/1080",target:"_blank",rel:"noopener noreferrer"}},[a._v("#1097"),r("OutboundLink")],1),a._v("。 当前的工作是再次启动 Qv2ray ，然后主窗口将被激活并变得可见。")]),a._v(" "),r("h2",{attrs:{id:"剪切板"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#剪切板"}},[a._v("#")]),a._v(" 剪切板")]),a._v(" "),r("p",[a._v("因为Wayland没有一个统一的剪贴板接口。 它可能无法使用右键单击菜单复制和粘贴在Wayland中运行的应用程序之间。 作为一个工作区，您可以使用 "),r("code",[a._v("Ctrl + C/V")]),a._v(" 复制和粘贴。 还请注意，复制和粘贴时，同时打开复制源窗口和粘贴目标窗口。")]),a._v(" "),r("p",[a._v("翻译为 www.deepL.com/translator(免费版本)")])])}),[],!1,null,null,null);t.default=s.exports}}]);