---
title: V2Ray 核心相关的
---

# V2Ray 核心相关常见问题

## 无法监听地址

通常是因为已经有另一个过程使用启动V2Ray核心所需的端口。 日志可以喜欢：

- Windows： `无法监听地址：127.0.0.1:1088 > 监听tcp 127.0.0.1:1088：通常只允许使用每个套接字地址 (protocol/network地址/port)。`
- Linux / macOS: `无法监听地址: 127.0.0.1:1088 > 监听tcp 127.0.0.1:1088: 绑定: 地址已经使用`

### 现有的 V2Ray 核心实例

您应该始终首先检查是否存在一个现有的 V2Ray 进程。 如果Qv2ray 在V2Ray 核心终止之前发生崩溃，剩余的 V2Ray 进程可能会在那里。

#### 窗口

对于Windows用户，您可以打开您的 **任务管理器** 来检查是否有 `v2ray。 xe` (or `wv2ray) xe`, 如果您选择运行 `wv2ray.exe` 作为核心, 下面的同样应用于运行。

如果您找到一个，您可能想要手动终止该进程。 Windows用户可以点击 <kbd>获胜</kbd> + <kbd>R</kbd> 调用 **运行** 窗口，然后键入以下命令并运行：

```batch
taskkill /f /im v2ray.exe
```

#### Linux / macOS

对于Linux / macOS 用户，您可以首先使用此命令来找到 V2Ray 核心的 PID：

```bash
ps aux | grep v2ray
```

然后用以下方法杀死这个过程：

```bash
成功杀死-9 <PID>
```

### 其他方案

如果你没有看到正在运行的 V2Ray 实例, 你可能想要更深入地了解谁在使用你的端口。

#### 窗口

对于Windows用户，您可以打开 **命令提示** 并运行以下命令：

```batch
netstat -aon | findstr "8888"
```

根据您的实际情况更改端口 (`888`。 如果有某些程序使用您的端口，您将获得输出，这些程序通常看起来像这样：

```
  TCP 127.0.0.1:8888 0.0.0 Listing 114514
  TCP [:1]:8888 [:]:0 Listing 114514
```

请注意输出的最后一列(在这种情况下， `114514`)。 这是正在使用您的端口的进程的 PID 。 运行以下命令来终止程序：

```batch
taskkill /f /pid 114514
```

程序终止后，端口将被释放和使用。

#### Linux / macOS

对于Linux / macOS 用户，您可以使用文件夹命令来做类似的事情：

```bash
# Linux
sudo netstat -nlp | grep 8888

# Linux / macOS
sudo lsof -i:8888
```

如果有一个正在使用端口的过程，输出将是一样的：

```
# netstat
tcp6 0 0 0 ::::::8888 :*:LISTEN 42742/viey

# lsof
vicy 42742 user 11u IPv6 29087 0t0 TCP *:8888 (LISTEN)
```

请注意字段 `42742` 和 `邪恶`, 这些字段显示该进程的PID 和程序名称。 随时可以结束并恢复端口。

### 窗口：系统保留

这只发生在Windows上，其错误日志通常看起来就像这样： `无法监听地址：127.0.0。 :1088 > 监听tcp 127.0.0.0。 :1088: bind: 尝试以其访问权限禁止的方式访问套接字`

Microsoft 2018年2月13日启动 [KB407588](https://support.microsoft.com/eu-es/help/4074588/windows-10-update-kb4074588) 补丁 这将修改 Windows 操作系统的 _保留端口范围_ ，所以您可能会受到影响。

正如已经指出的那样，您可以使用 `netsh 接口 ipv4 显示排除的移位协议=tcp` 命令来显示保留端口。 如果一个端口被保留，你应该避免这个端口，而只是将监听端口更改为另一个端口。

### 如果没有走出

只需更改监听端口并避免冲突。 这是一种相当直截了当的做法。

## 执行失败

当无法执行 V2Ray 核心时发生这种情况。 典型的错误消息可以是：

- `v2ray 核心失败，错误代码：255`

### Linux / macOS: 无可执行属性

您可能已经忘记为 `v2ray` and `v2ctl` 设置可采性属性。 转到对应的目录并执行：

```bash
chmod +x v2ray
chmod +x v2ctl
```

你已经完成了。

### 错误：无效可执行文件

您可能已经下载了一个无法在您的平台上执行的二进制文件。 例如，您正在运行 Windows 64位 (`amd64`)，然后下载一个 `arm64` V2Ray 核心； 或者，您下载的文件已损坏。

要进行快速检查，您可以运行 `v2ray` (或 `v2ray 。 xe` 如果您正在使用Windows，请点击它。 如果出现错误，只需删除并重新下载正确的文件。

:::tip QvKernelABIChecker 自 Qv2ray 2.4.0, [@DuckSoft](https://github.com/DuckSoft) 引入了一个新的检查机制，名为 "ABI 检查器", 这将防止您使用不正确的二进制。 因此，此案后来变得相当罕见。 :::
